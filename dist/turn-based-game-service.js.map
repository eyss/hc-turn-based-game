{"version":3,"file":"turn-based-game-service.js","sourceRoot":"","sources":["../src/turn-based-game-service.ts"],"names":[],"mappings":"AASA,MAAM,OAAO,oBAAoB;IAC/B,YAAmB,UAAsB,EAAY,QAAgB;QAAlD,eAAU,GAAV,UAAU,CAAY;QAAY,aAAQ,GAAR,QAAQ,CAAQ;IAAG,CAAC;IAEzE,+EAA+E;IAExE,YAAY,CAAC,QAAsB;QACxC,OAAO,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAC;IACnD,CAAC;IAEM,QAAQ,CACb,QAAsB,EACtB,gBAA2C,EAC3C,IAAS;QAET,OAAO,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;YAChC,SAAS,EAAE,QAAQ;YACnB,kBAAkB,EAAE,gBAAgB;YACpC,SAAS,EAAE,IAAI;SAChB,CAAC,CAAC;IACL,CAAC;IAEM,iBAAiB;QACtB,OAAO,IAAI,CAAC,QAAQ,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;IAEM,OAAO,CAAC,QAAsB;QACnC,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IAC7C,CAAC;IAEO,QAAQ,CAAC,MAAc,EAAE,OAAY;QAC3C,OAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;IAClE,CAAC;CACF","sourcesContent":["import {\n  Dictionary,\n  EntryHashB64,\n  HeaderHashB64,\n} from '@holochain-open-dev/core-types';\nimport { CellClient } from '@holochain-open-dev/cell-client';\n\nimport { GameEntry, MoveInfo } from './types';\n\nexport class TurnBasedGameService {\n  constructor(public cellClient: CellClient, protected zomeName: string) {}\n\n  /** These functions **must** match the functions defined in lib/src/mixin.rs */\n\n  public getGameMoves(gameHash: EntryHashB64): Promise<Array<MoveInfo<any>>> {\n    return this.callZome('get_game_moves', gameHash);\n  }\n\n  public makeMove(\n    gameHash: EntryHashB64,\n    previousMoveHash: HeaderHashB64 | undefined,\n    move: any\n  ): Promise<HeaderHashB64> {\n    return this.callZome('make_move', {\n      game_hash: gameHash,\n      previous_move_hash: previousMoveHash,\n      game_move: move,\n    });\n  }\n\n  public getMyCurrentGames(): Promise<Dictionary<GameEntry>> {\n    return this.callZome('get_my_current_games', null);\n  }\n\n  public getGame(gameHash: EntryHashB64): Promise<GameEntry> {\n    return this.callZome('get_game', gameHash);\n  }\n\n  private callZome(fnName: string, payload: any): Promise<any> {\n    return this.cellClient.callZome(this.zomeName, fnName, payload);\n  }\n}\n"]}